{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Trinj/OneDrive/Desktop/fisc-financial-backend/src/utils/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nif (!supabaseUrl || !supabaseKey) {\r\n    throw new Error('Missing Supabase environment variables')\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseKey)\r\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Trinj/OneDrive/Desktop/fisc-financial-backend/src/hooks/useHorizon.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { supabase } from '@/utils/supabase';\r\n\r\nexport interface PayPeriod {\r\n    id: string;\r\n    start_date: string;\r\n    end_date: string;\r\n    total_income: number;\r\n    is_current: boolean;\r\n}\r\n\r\nexport interface Bucket {\r\n    id: string;\r\n    name: string;\r\n    target_amount: number;\r\n    current_balance: number;\r\n    color_hex: string;\r\n}\r\n\r\nexport interface HorizonData {\r\n    currentWeek: PayPeriod | null;\r\n    buckets: Bucket[];\r\n    isLoading: boolean;\r\n    error: string | null;\r\n}\r\n\r\nexport const useHorizon = (): HorizonData => {\r\n    const [currentWeek, setCurrentWeek] = useState<PayPeriod | null>(null);\r\n    const [buckets, setBuckets] = useState<Bucket[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            try {\r\n                setIsLoading(true);\r\n                setError(null);\r\n\r\n                // Fetch Current Pay Period\r\n                const { data: weekData, error: weekError } = await supabase\r\n                    .from('pay_periods')\r\n                    .select('*')\r\n                    .eq('is_current', true)\r\n                    .limit(1)\r\n                    .maybeSingle();\r\n\r\n                if (weekError) throw weekError;\r\n\r\n                let effectiveWeek = weekData;\r\n\r\n                // Fallback: If no active week found, use a \"Mock Week\" so UI renders\r\n                if (!effectiveWeek) {\r\n                    const today = new Date();\r\n                    const nextWeek = new Date(today);\r\n                    nextWeek.setDate(today.getDate() + 7);\r\n\r\n                    effectiveWeek = {\r\n                        id: 'mock-week',\r\n                        start_date: today.toISOString(),\r\n                        end_date: nextWeek.toISOString(),\r\n                        total_income: 0,\r\n                        is_current: true\r\n                    };\r\n                }\r\n\r\n                // Fetch Allocation Buckets\r\n                const { data: bucketsData, error: bucketsError } = await supabase\r\n                    .from('allocation_buckets')\r\n                    .select('*');\r\n\r\n                if (bucketsError) throw bucketsError;\r\n\r\n                setCurrentWeek(effectiveWeek);\r\n                setBuckets(bucketsData || []);\r\n            } catch (err: any) {\r\n                console.error(\"Supabase Error:\", err.message);\r\n                setError(err.message || 'Failed to fetch data');\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        }\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    return { currentWeek, buckets, isLoading, error };\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAyBO,MAAM,aAAa;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAmB;IACjE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,IAAA,0KAAS;gCAAC;YACN,eAAe;gBACX,IAAI;oBACA,aAAa;oBACb,SAAS;oBAET,2BAA2B;oBAC3B,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,uIAAQ,CACtD,IAAI,CAAC,eACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,MACjB,KAAK,CAAC,GACN,WAAW;oBAEhB,IAAI,WAAW,MAAM;oBAErB,IAAI,gBAAgB;oBAEpB,qEAAqE;oBACrE,IAAI,CAAC,eAAe;wBAChB,MAAM,QAAQ,IAAI;wBAClB,MAAM,WAAW,IAAI,KAAK;wBAC1B,SAAS,OAAO,CAAC,MAAM,OAAO,KAAK;wBAEnC,gBAAgB;4BACZ,IAAI;4BACJ,YAAY,MAAM,WAAW;4BAC7B,UAAU,SAAS,WAAW;4BAC9B,cAAc;4BACd,YAAY;wBAChB;oBACJ;oBAEA,2BAA2B;oBAC3B,MAAM,EAAE,MAAM,WAAW,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,uIAAQ,CAC5D,IAAI,CAAC,sBACL,MAAM,CAAC;oBAEZ,IAAI,cAAc,MAAM;oBAExB,eAAe;oBACf,WAAW,eAAe,EAAE;gBAChC,EAAE,OAAO,KAAU;oBACf,QAAQ,KAAK,CAAC,mBAAmB,IAAI,OAAO;oBAC5C,SAAS,IAAI,OAAO,IAAI;gBAC5B,SAAU;oBACN,aAAa;gBACjB;YACJ;YAEA;QACJ;+BAAG,EAAE;IAEL,OAAO;QAAE;QAAa;QAAS;QAAW;IAAM;AACpD;GA5Da"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Trinj/OneDrive/Desktop/fisc-financial-backend/src/components/ui/Card.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface CardProps {\r\n    children: React.ReactNode;\r\n    className?: string;\r\n    title?: string;\r\n}\r\n\r\nexport const Card = ({ children, className = '', title }: CardProps) => {\r\n    return (\r\n        <div className={`bg-white rounded-organic shadow-sm border border-[#F2F1ED] p-6 ${className}`}>\r\n            {title && (\r\n                <h3 className=\"text-text-charcoal font-bold tracking-tight text-xl mb-4\">\r\n                    {title}\r\n                </h3>\r\n            )}\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;;AAQO,MAAM,OAAO,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,KAAK,EAAa;IAC/D,qBACI,6LAAC;QAAI,WAAW,CAAC,+DAA+D,EAAE,WAAW;;YACxF,uBACG,6LAAC;gBAAG,WAAU;0BACT;;;;;;YAGR;;;;;;;AAGb;KAXa"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Trinj/OneDrive/Desktop/fisc-financial-backend/src/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: 'primary' | 'secondary';\r\n    children: React.ReactNode;\r\n}\r\n\r\nexport const Button = ({ variant = 'primary', children, className = '', ...props }: ButtonProps) => {\r\n    const baseStyles = \"px-6 py-3 rounded-xl font-medium transition-colors duration-200 cursor-pointer\";\r\n    const variants = {\r\n        primary: \"bg-primary-green text-white hover:bg-[#3d4d40]\",\r\n        secondary: \"bg-soft-sage text-text-charcoal hover:bg-[#dce3dc]\",\r\n    };\r\n\r\n    return (\r\n        <button\r\n            className={`${baseStyles} ${variants[variant]} ${className}`}\r\n            {...props}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;;AAOO,MAAM,SAAS,CAAC,EAAE,UAAU,SAAS,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,GAAG,OAAoB;IAC3F,MAAM,aAAa;IACnB,MAAM,WAAW;QACb,SAAS;QACT,WAAW;IACf;IAEA,qBACI,6LAAC;QACG,WAAW,GAAG,WAAW,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;QAC3D,GAAG,KAAK;kBAER;;;;;;AAGb;KAfa"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Trinj/OneDrive/Desktop/fisc-financial-backend/src/components/dashboard/IncomeInput.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Card } from '../ui/Card';\r\nimport { Button } from '../ui/Button';\r\n\r\ninterface IncomeInputProps {\r\n    amount: string;\r\n    onAmountChange: (value: string) => void;\r\n}\r\n\r\nexport const IncomeInput = ({ amount, onAmountChange }: IncomeInputProps) => {\r\n    return (\r\n        <Card title=\"Income Input\" className=\"h-full\">\r\n            <div className=\"flex flex-col h-full justify-between gap-6\">\r\n                <div>\r\n                    <label htmlFor=\"income\" className=\"block text-sm font-medium text-text-charcoal mb-2\">\r\n                        Enter this week's income\r\n                    </label>\r\n                    <div className=\"relative\">\r\n                        <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium\">$</span>\r\n                        <input\r\n                            type=\"number\"\r\n                            id=\"income\"\r\n                            value={amount}\r\n                            onChange={(e) => onAmountChange(e.target.value)}\r\n                            className=\"w-full pl-8 pr-4 py-3 bg-[#F9F9F7] rounded-xl border-none focus:ring-2 focus:ring-primary-green/20 focus:outline-none transition-all text-lg font-medium text-text-charcoal placeholder:text-gray-400\"\r\n                            placeholder=\"0.00\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-3\">\r\n                    <Button className=\"w-full bg-[#4A5D4E] text-white rounded-xl hover:bg-[#3d4d40]\">\r\n                        Allocate Funds\r\n                    </Button>\r\n                    <p className=\"text-xs text-center text-gray-500\">\r\n                        Funds will be distributed based on your bucket settings.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAOO,MAAM,cAAc,CAAC,EAAE,MAAM,EAAE,cAAc,EAAoB;IACpE,qBACI,6LAAC,2IAAI;QAAC,OAAM;QAAe,WAAU;kBACjC,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;;sCACG,6LAAC;4BAAM,SAAQ;4BAAS,WAAU;sCAAoD;;;;;;sCAGtF,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAK,WAAU;8CAAqE;;;;;;8CACrF,6LAAC;oCACG,MAAK;oCACL,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oCAC9C,WAAU;oCACV,aAAY;;;;;;;;;;;;;;;;;;8BAKxB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC,+IAAM;4BAAC,WAAU;sCAA+D;;;;;;sCAGjF,6LAAC;4BAAE,WAAU;sCAAoC;;;;;;;;;;;;;;;;;;;;;;;AAOrE;KAhCa"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Trinj/OneDrive/Desktop/fisc-financial-backend/src/components/ui/ProgressBar.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface ProgressBarProps {\r\n    value: number;\r\n    max: number;\r\n    label?: string;\r\n    className?: string;\r\n}\r\n\r\nexport const ProgressBar = ({ value, max, label, className = '' }: ProgressBarProps) => {\r\n    const percentage = Math.min(100, Math.max(0, (value / max) * 100));\r\n\r\n    return (\r\n        <div className={`w-full ${className}`}>\r\n            {label && (\r\n                <div className=\"flex justify-between items-center mb-1\">\r\n                    <span className=\"text-sm font-medium text-text-charcoal\">{label}</span>\r\n                    <span className=\"text-sm text-gray-500\">{percentage.toFixed(0)}%</span>\r\n                </div>\r\n            )}\r\n            <div className=\"h-2 w-full bg-[#E9F0E9] rounded-full overflow-hidden\">\r\n                <div\r\n                    className=\"h-full bg-[#4A5D4E] transition-all duration-500 ease-out rounded-full\"\r\n                    style={{ width: `${percentage}%` }}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;;AASO,MAAM,cAAc,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,EAAoB;IAC/E,MAAM,aAAa,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,AAAC,QAAQ,MAAO;IAE7D,qBACI,6LAAC;QAAI,WAAW,CAAC,OAAO,EAAE,WAAW;;YAChC,uBACG,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAK,WAAU;kCAA0C;;;;;;kCAC1D,6LAAC;wBAAK,WAAU;;4BAAyB,WAAW,OAAO,CAAC;4BAAG;;;;;;;;;;;;;0BAGvE,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBACG,WAAU;oBACV,OAAO;wBAAE,OAAO,GAAG,WAAW,CAAC,CAAC;oBAAC;;;;;;;;;;;;;;;;;AAKrD;KAnBa"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Trinj/OneDrive/Desktop/fisc-financial-backend/src/components/dashboard/BucketAllocations.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Card } from '../ui/Card';\r\nimport { ProgressBar } from '../ui/ProgressBar';\r\nimport { Bucket } from '../../hooks/useHorizon';\r\n\r\ninterface BucketAllocationsProps {\r\n    buckets: Bucket[];\r\n}\r\n\r\nexport const BucketAllocations = ({ buckets }: BucketAllocationsProps) => {\r\n    const totalTarget = buckets.reduce((acc, b) => acc + b.target_amount, 0);\r\n    const totalCurrent = buckets.reduce((acc, b) => acc + (b.current_balance || 0), 0);\r\n\r\n    return (\r\n        <Card title=\"Bucket Allocations\" className=\"h-full\">\r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex justify-between items-end mb-2\">\r\n                    <div>\r\n                        <p className=\"text-sm text-gray-500\">Total Saved</p>\r\n                        <p className=\"text-2xl font-bold text-text-charcoal\">${totalCurrent.toLocaleString()}</p>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                        <p className=\"text-sm text-gray-500\">Goal</p>\r\n                        <p className=\"font-medium text-text-charcoal\">${totalTarget.toLocaleString()}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-5\">\r\n                    {buckets.map((bucket) => (\r\n                        <div key={bucket.id}>\r\n                            <div className=\"flex justify-between text-sm mb-2\">\r\n                                <span className=\"font-medium\">{bucket.name}</span>\r\n                                <span className=\"text-gray-500\">\r\n                                    ${(bucket.current_balance || 0).toLocaleString()} / ${bucket.target_amount.toLocaleString()}\r\n                                </span>\r\n                            </div>\r\n                            {/* Progress Bar (Styles handled in ProgressBar component or inline here if needed) */}\r\n                            {/* User requested: Track h-2 w-full bg-[#E9F0E9] rounded-full. Fill h-full bg-[#4A5D4E] rounded-full. */}\r\n                            {/* I updated the ProgressBar component to match this, so using it here is correct. */}\r\n                            <ProgressBar\r\n                                value={bucket.current_balance || 0}\r\n                                max={bucket.target_amount}\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"pt-4 border-t border-[#F2F1ED] mt-4\">\r\n                    <button className=\"text-[#4A5D4E] text-sm font-medium hover:underline\">\r\n                        Manage Buckets\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAOO,MAAM,oBAAoB,CAAC,EAAE,OAAO,EAA0B;IACjE,MAAM,cAAc,QAAQ,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,aAAa,EAAE;IACtE,MAAM,eAAe,QAAQ,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,eAAe,IAAI,CAAC,GAAG;IAEhF,qBACI,6LAAC,2IAAI;QAAC,OAAM;QAAqB,WAAU;kBACvC,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;;8CACG,6LAAC;oCAAE,WAAU;8CAAwB;;;;;;8CACrC,6LAAC;oCAAE,WAAU;;wCAAwC;wCAAE,aAAa,cAAc;;;;;;;;;;;;;sCAEtF,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAE,WAAU;8CAAwB;;;;;;8CACrC,6LAAC;oCAAE,WAAU;;wCAAiC;wCAAE,YAAY,cAAc;;;;;;;;;;;;;;;;;;;8BAIlF,6LAAC;oBAAI,WAAU;8BACV,QAAQ,GAAG,CAAC,CAAC,uBACV,6LAAC;;8CACG,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAK,WAAU;sDAAe,OAAO,IAAI;;;;;;sDAC1C,6LAAC;4CAAK,WAAU;;gDAAgB;gDAC1B,CAAC,OAAO,eAAe,IAAI,CAAC,EAAE,cAAc;gDAAG;gDAAK,OAAO,aAAa,CAAC,cAAc;;;;;;;;;;;;;8CAMjG,6LAAC,yJAAW;oCACR,OAAO,OAAO,eAAe,IAAI;oCACjC,KAAK,OAAO,aAAa;;;;;;;2BAZvB,OAAO,EAAE;;;;;;;;;;8BAkB3B,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;wBAAO,WAAU;kCAAqD;;;;;;;;;;;;;;;;;;;;;;AAO3F;KA9Ca"}},
    {"offset": {"line": 515, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Trinj/OneDrive/Desktop/fisc-financial-backend/src/components/dashboard/WeeklyCalendar.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Card } from '../ui/Card';\r\nimport { PayPeriod } from '../../hooks/useHorizon';\r\n\r\ninterface WeeklyCalendarProps {\r\n    payPeriods: PayPeriod[];\r\n}\r\n\r\nexport const WeeklyCalendar = ({ payPeriods }: WeeklyCalendarProps) => {\r\n    return (\r\n        <Card title=\"Weekly View\" className=\"h-full\">\r\n            <div className=\"space-y-4\">\r\n                {payPeriods.map((period) => {\r\n                    const startDate = new Date(period.start_date);\r\n                    const endDate = new Date(period.end_date);\r\n                    const dateOptions: Intl.DateTimeFormatOptions = { month: 'short', day: 'numeric' };\r\n                    const dateRange = `${startDate.toLocaleDateString('en-US', dateOptions)} - ${endDate.toLocaleDateString('en-US', dateOptions)}`;\r\n\r\n                    return (\r\n                        <div\r\n                            key={period.id}\r\n                            className={`flex items-center justify-between p-4 rounded-xl border transition-all ${period.is_current\r\n                                ? 'bg-soft-sage/30 border-primary-green/20'\r\n                                : 'bg-white border-[#F2F1ED] hover:border-gray-200'\r\n                                }`}\r\n                        >\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <div className={`w-2 h-2 rounded-full ${period.is_current ? 'bg-primary-green' : 'bg-gray-300'}`} />\r\n                                <div>\r\n                                    <p className={`text-sm font-medium ${period.is_current ? 'text-text-charcoal' : 'text-gray-600'}`}>\r\n                                        {dateRange}\r\n                                    </p>\r\n                                    {period.is_current && <span className=\"text-[10px] uppercase tracking-wider font-bold text-primary-green\">Current Week</span>}\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <span className=\"font-semibold text-text-charcoal\">${period.total_income.toLocaleString()}</span>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n\r\n                <div className=\"pt-2 text-center\">\r\n                    <button className=\"bg-[#4A5D4E] text-white px-4 py-2 rounded-xl font-medium hover:bg-[#3d4d40] transition-colors\">\r\n                        View Past Weeks\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;;;AAOO,MAAM,iBAAiB,CAAC,EAAE,UAAU,EAAuB;IAC9D,qBACI,6LAAC,2IAAI;QAAC,OAAM;QAAc,WAAU;kBAChC,cAAA,6LAAC;YAAI,WAAU;;gBACV,WAAW,GAAG,CAAC,CAAC;oBACb,MAAM,YAAY,IAAI,KAAK,OAAO,UAAU;oBAC5C,MAAM,UAAU,IAAI,KAAK,OAAO,QAAQ;oBACxC,MAAM,cAA0C;wBAAE,OAAO;wBAAS,KAAK;oBAAU;oBACjF,MAAM,YAAY,GAAG,UAAU,kBAAkB,CAAC,SAAS,aAAa,GAAG,EAAE,QAAQ,kBAAkB,CAAC,SAAS,cAAc;oBAE/H,qBACI,6LAAC;wBAEG,WAAW,CAAC,uEAAuE,EAAE,OAAO,UAAU,GAChG,4CACA,mDACA;;0CAEN,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAW,CAAC,qBAAqB,EAAE,OAAO,UAAU,GAAG,qBAAqB,eAAe;;;;;;kDAChG,6LAAC;;0DACG,6LAAC;gDAAE,WAAW,CAAC,oBAAoB,EAAE,OAAO,UAAU,GAAG,uBAAuB,iBAAiB;0DAC5F;;;;;;4CAEJ,OAAO,UAAU,kBAAI,6LAAC;gDAAK,WAAU;0DAAoE;;;;;;;;;;;;;;;;;;0CAGlH,6LAAC;0CACG,cAAA,6LAAC;oCAAK,WAAU;;wCAAmC;wCAAE,OAAO,YAAY,CAAC,cAAc;;;;;;;;;;;;;uBAhBtF,OAAO,EAAE;;;;;gBAoB1B;8BAEA,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;wBAAO,WAAU;kCAAgG;;;;;;;;;;;;;;;;;;;;;;AAOtI;KA1Ca"}},
    {"offset": {"line": 642, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Trinj/OneDrive/Desktop/fisc-financial-backend/src/app/horizon/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport { useHorizon } from '@/hooks/useHorizon';\r\nimport { IncomeInput } from '@/components/dashboard/IncomeInput';\r\nimport { BucketAllocations } from '@/components/dashboard/BucketAllocations';\r\nimport { WeeklyCalendar } from '@/components/dashboard/WeeklyCalendar';\r\n\r\nexport default function HorizonPage() {\r\n    const { currentWeek, buckets, isLoading, error } = useHorizon();\r\n    const [incomeInput, setIncomeInput] = useState('');\r\n\r\n    // Calculate projected buckets based on input\r\n    const projectedBuckets = useMemo(() => {\r\n        // If no buckets, return empty array\r\n        if (!buckets || buckets.length === 0) return [];\r\n\r\n        // Parse input amount (default to 0 if invalid)\r\n        const income = parseFloat(incomeInput) || 0;\r\n\r\n        if (income === 0) return buckets;\r\n\r\n        // Logic: Proportional distribution based on target amount\r\n        // Total Target\r\n        const totalTarget = buckets.reduce((acc, b) => acc + b.target_amount, 0);\r\n\r\n        return buckets.map(bucket => {\r\n            // ratio = bucket target / total target\r\n            const ratio = totalTarget > 0 ? bucket.target_amount / totalTarget : 0;\r\n            const allocated = income * ratio;\r\n\r\n            return {\r\n                ...bucket,\r\n                current_balance: (bucket.current_balance || 0) + allocated\r\n            };\r\n        });\r\n    }, [buckets, incomeInput]);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-[#F9F9F7] font-sans text-[#2D2D2D]\">\r\n                <div className=\"text-center animate-pulse\">\r\n                    <h2 className=\"text-xl font-medium text-text-charcoal mb-2\">We're updating your balances...</h2>\r\n                    <p className=\"text-gray-400 text-sm\">Just a moment while we crunch the numbers.</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-[#F9F9F7] font-sans text-[#2D2D2D]\">\r\n                <div className=\"text-center\">\r\n                    <h2 className=\"text-xl font-medium text-red-600 mb-2\">That didn't quite work, let's try again.</h2>\r\n                    <p className=\"text-gray-400 text-sm\">{error}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-[#F9F9F7] p-8 md:p-10 font-sans text-[#2D2D2D]\">\r\n            <div className=\"max-w-7xl mx-auto space-y-8\">\r\n                <header className=\"mb-10\">\r\n                    <h1 className=\"text-3xl md:text-4xl font-bold text-text-charcoal tracking-tight\">\r\n                        Financial Horizon\r\n                    </h1>\r\n                    <p className=\"text-gray-500 mt-2 text-lg\">\r\n                        Your weekly financial health at a glance.\r\n                    </p>\r\n                </header>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                    {/* Card 1: Income Input */}\r\n                    <div className=\"lg:col-span-1\">\r\n                        <IncomeInput\r\n                            amount={incomeInput}\r\n                            onAmountChange={setIncomeInput}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Card 2: Weekly Calendar - Show current week + maybe placeholders if needed, but for now just pass current week in array if it exists */}\r\n                    <div className=\"lg:col-span-1\">\r\n                        <WeeklyCalendar payPeriods={currentWeek ? [currentWeek] : []} />\r\n                    </div>\r\n\r\n                    {/* Card 3: Bucket Allocations - Pass PROJECTED buckets */}\r\n                    <div className=\"lg:col-span-1\">\r\n                        <BucketAllocations buckets={projectedBuckets} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACpB,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,2IAAU;IAC7D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,6CAA6C;IAC7C,MAAM,mBAAmB,IAAA,wKAAO;iDAAC;YAC7B,oCAAoC;YACpC,IAAI,CAAC,WAAW,QAAQ,MAAM,KAAK,GAAG,OAAO,EAAE;YAE/C,+CAA+C;YAC/C,MAAM,SAAS,WAAW,gBAAgB;YAE1C,IAAI,WAAW,GAAG,OAAO;YAEzB,0DAA0D;YAC1D,eAAe;YACf,MAAM,cAAc,QAAQ,MAAM;qEAAC,CAAC,KAAK,IAAM,MAAM,EAAE,aAAa;oEAAE;YAEtE,OAAO,QAAQ,GAAG;yDAAC,CAAA;oBACf,uCAAuC;oBACvC,MAAM,QAAQ,cAAc,IAAI,OAAO,aAAa,GAAG,cAAc;oBACrE,MAAM,YAAY,SAAS;oBAE3B,OAAO;wBACH,GAAG,MAAM;wBACT,iBAAiB,CAAC,OAAO,eAAe,IAAI,CAAC,IAAI;oBACrD;gBACJ;;QACJ;gDAAG;QAAC;QAAS;KAAY;IAEzB,IAAI,WAAW;QACX,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAA8C;;;;;;kCAC5D,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAIrD;IAEA,IAAI,OAAO;QACP,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,6LAAC;wBAAE,WAAU;kCAAyB;;;;;;;;;;;;;;;;;IAItD;IAEA,qBACI,6LAAC;QAAK,WAAU;kBACZ,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAO,WAAU;;sCACd,6LAAC;4BAAG,WAAU;sCAAmE;;;;;;sCAGjF,6LAAC;4BAAE,WAAU;sCAA6B;;;;;;;;;;;;8BAK9C,6LAAC;oBAAI,WAAU;;sCAEX,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,gKAAW;gCACR,QAAQ;gCACR,gBAAgB;;;;;;;;;;;sCAKxB,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,sKAAc;gCAAC,YAAY,cAAc;oCAAC;iCAAY,GAAG,EAAE;;;;;;;;;;;sCAIhE,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,4KAAiB;gCAAC,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpD;GAtFwB;;QAC+B,2IAAU;;;KADzC"}}]
}